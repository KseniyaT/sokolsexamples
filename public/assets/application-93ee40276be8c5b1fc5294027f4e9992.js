function birdsSong(){var e=document.getElementById("player"),t=document.getElementById("bird-main");null!=t&&"undefined"!=typeof t&&t.hover(function(){e.volume=1,e.play()},function(){fadeAudio(e)})}function fadeAudio(e){var t=e.duration-2,n=setInterval(function(){e.currentTime<=t&&(10*e.volume>0?e.volume=(10*e.volume-1)/10:(clearInterval(n),e.pause()))},100)}function fifteenPuzzle(){var e=document.getElementById("puzzle_canvas");if(null!=e&&"undefined"!=typeof e){var t=e.getContext("2d"),n=320,o=320;t.strokeRect(0,0,n,o);for(var l=[],r=["#E3E6ED","#E798AD","#93747A","#9E6DBE","#8865C9","#D777B7","#FA8F99","#FDC4B9","#B9C6E9","#F7D4AA","#AA95A6","#3A559C","#A2BEC2","#5F7C82","#2B6E7E","#1B3848"],a=1;17>a;a++)l.push({index:a,color:r[a-1]});for(var i=shuffleArray(l.slice()),d=80,c=0,u=0,s=0,f=0,m=0;4>m;m++)for(var g=0;4>g;g++)setCellValue(m,g,t,d,c,i),16==i[c].index&&(s=m*d,f=g*d,u=c),c++;document.onkeydown=function(e){var r=getKeyCode(e);(37==r||38==r||39==r||40==r)&&e.preventDefault();var a=movePuzzle(r,s,f,n,o,d,u,i);if(a&&"undefined"!=typeof a){t.clearRect(0,0,n,o),c=0;for(var m=0;4>m;m++)for(var g=0;4>g;g++)setCellValue(m,g,t,d,c,a),16==a[c].index&&(s=m*d,f=g*d,u=c),c++;isPuzzleComplete(l,a)&&alert("Bingo!")}}}}function isPuzzleComplete(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function setCellValue(e,t,n,o,l,r){n.fillStyle="#1B3848",n.fillRect(e*o,t*o,o,o),n.fillStyle=r[l].color,n.fillRect(e*o+1,t*o+1,o-2,o-2),n.font="normal 30px sans-serif",n.fillStyle="#1B3848";var a=2.5,i=1.5;r[l].index>9&&(a=3.5);var d=e*o,c=t*o;n.fillText(r[l].index,d+o/a,c+o/i)}function movePuzzle(e,t,n,o,l,r,a,i){var d,c=i[a],u=a;if(39==e||68==e){if(t+r==o)return!1;u=a+4}else if(40==e||83==e){if(n+r==l)return!1;u=a+1}else if(37==e||65==e){if(0==t)return!1;u=a-4}else if(38==e||87==e){if(0==n)return!1;u=a-1}return d=i[u],i[a]=d,i[u]=c,i}function shuffleArray(e){for(var t,n,o=e.length;0!==o;)n=Math.floor(Math.random()*o),o-=1,t=e[o],e[o]=e[n],e[n]=t;return e}function getKeyCode(e){var t=window.event?window.event:e;return t.keyCode}function changeHeader(){var e=document.getElementById("header_root");if(null!=e&&"undefined"!=typeof e){var t=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight;console.log(t),toggleHeaderClass(t,e),window.onscroll=function(){toggleHeaderClass(t,e)},window.onresize=function(){t=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,toggleHeaderClass(t,e)}}}function toggleHeaderClass(e,t){var n=window.pageYOffset||document.documentElement.scrollTop,o=getDocumentHeight(),l=o-e,r=e-70;e>=l&&(r=l),console.log(r),n>=r?t.addClass("header_top"):t.removeClass("header_top")}function getDocumentHeight(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}function doAtOnload(){changeHeader(),birdsSong(),fifteenPuzzle()}Object.prototype.addClass=Object.prototype.addClass||function(e){var t=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.test(this.className)||(this.className=(this.className+" "+e).replace(/\s+/g," ").replace(/(^ | $)/g,""))},Object.prototype.removeClass=Object.prototype.removeClass||function(e){var t=new RegExp("(^|\\s)"+e+"(\\s|$)","g");this.className=this.className.replace(t,"$1").replace(/\s+/g," ").replace(/(^ | $)/g,"")},Object.prototype.hover=Object.prototype.hover||function(e,t){this.onmouseenter=e,this.onmouseleave=t},window.addEventListener?window.addEventListener("load",doAtOnload,!1):window.attachEvent?window.attachEvent("onload",doAtOnload):window.onload=doAtOnload;